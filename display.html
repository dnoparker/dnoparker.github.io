<!DOCTYPE html>
<html>
<head>
  <title>All Dog Images</title>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
</head>
<body>

  <h1>All Dog Images</h1>
  <div id="dogList"></div>

  <script>
    import { initializeApp } from "firebase/app";
    import { getDatabase, ref, get, update } from "firebase/database";

    const firebaseConfig = {
    apiKey: "AIzaSyApzwzB3qTJuP6SW_nlm5Rj984Ic5cBMEs",
    authDomain: "shapeartstest.firebaseapp.com",
    projectId: "shapeartstest",
    storageBucket: "shapeartstest.appspot.com",
    messagingSenderId: "1021998130062",
    appId: "1:1021998130062:web:819bbec47355ff812bfadf",
    measurementId: "G-Z3XLCJN1KH"
  };

    initializeApp(firebaseConfig);

    const db = getDatabase();
    const dbRef = ref(db, 'dogs');
    get(dbRef).then(snapshot => {
      snapshot.forEach(child => {
        const dogData = child.val();
        const dogElement = document.createElement('div');
        
        dogElement.innerHTML = `
          <img src="${dogData.imageUrl}" width="100">
          <p>${dogData.name} (${dogData.breed})</p>
          <button onclick="approveDog('${child.key}')">Approve</button>
        `;
        
        document.getElementById('dogList').appendChild(dogElement);
      });
    });

    function approveDog(key) {
      const dogRef = ref(db, `dogs/${key}`);
      update(dogRef, { approved: true });
    }
  </script>

</body>
</html>
